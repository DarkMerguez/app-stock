<div class="update-product-container">
  <h1>Modifier le produit</h1>

  <form [formGroup]="productGroup" (ngSubmit)="onSubmit()" enctype="multipart/form-data" class="product-form">
      <div class="form-field">
        <label for="name">Nom du produit :</label>
          <input formControlName="name" placeholder="Nom du produit" class="form-input" />
      </div>

      <div class="form-field">
          <label for="price">Prix :</label>
          <input formControlName="price" placeholder="Prix" class="form-input" />
      </div>

      <div class="form-field">
        <label for="description">Description :</label>
          <input formControlName="description" placeholder="Description" class="form-input" />
      </div>

      <div class="form-field">
        <label for="stock">Quantité en stock :</label>
          <input formControlName="stock" placeholder="Stock actuel" class="form-input" />
      </div>

      <div class="form-field">
          <select id="ProductCategoryId" formControlName="ProductCategoryId" class="form-select">
              <option value="" disabled>Catégorie</option>
              <option *ngFor="let productCategory of productCategories$ | async" [value]="productCategory.id">
                  {{ productCategory.title }}
              </option>
          </select>
      </div>

      <div class="form-field">
          <label for="images" class="upload-label">Télécharger de nouvelles images</label>
          <input type="file" name="images" id="images" multiple class="upload-input" />
      </div>

      <div class="existing-images-container">
          <div *ngFor="let image of existingImages" class="image-preview">
              <img [src]="image.url" alt="Image actuelle" class="product-image" />
              <button type="button" (click)="removeImage(image.id)" class="remove-button" aria-label="Supprimer cette image">
                  &times;
              </button>
          </div>
      </div>

      <button type="submit" [disabled]="!productGroup.valid" class="submit-button">Modifier le produit</button>
  </form>
</div>
